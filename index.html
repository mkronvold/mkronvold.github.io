<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-06-22 Thu 13:36 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>mkronvold org-mode notes</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Michael Kronvold" />
<meta name="description" content="Org mode Notes"
 />
<meta name="keywords" content="syntax, org, document" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">mkronvold org-mode notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org7a9fc83">Quick Notes</a></li>
<li><a href="#org0283313">Mon</a></li>
<li><a href="#orgde2b2c9">Tue</a>
<ul>
<li><a href="#org3d76693">5/23/23</a></li>
<li><a href="#org0881f70">6/13/23</a></li>
<li><a href="#org6b3c393">CD vs Config Management</a></li>
<li><a href="#org18a8328">Label mandate, all environments</a></li>
<li><a href="#org42ea10b">CodeFresh</a></li>
</ul>
</li>
<li><a href="#orga226423">Wed</a></li>
<li><a href="#org78476f6">Thu</a>
<ul>
<li><a href="#org84c8c17">OCVS</a></li>
<li><a href="#org54bd040">K8s DR</a></li>
</ul>
</li>
<li><a href="#org95e830d">Fri</a>
<ul>
<li><a href="#orgfa2ce2c">5/18/23</a></li>
<li><a href="#org55aae13">CDM</a></li>
<li><a href="#org74da6dd">6/8/23</a></li>
<li><a href="#org4067976">6/23/23</a></li>
</ul>
</li>
<li><a href="#orge73f988">ToDo</a>
<ul>
<li><a href="#orgc84ae28">Clock Skew</a></li>
<li><a href="#orgbabe0c3">ssh jump pod</a></li>
<li><a href="#orgbff8082">Capacity Analysis</a></li>
<li><a href="#org68a22cf">Network Performance</a></li>
<li><a href="#orgf3dc222">Tanzu Design Doc</a></li>
</ul>
</li>
<li><a href="#orgf426f78">Attention</a>
<ul>
<li><a href="#orgf7b566a">Request for cluster admin</a></li>
<li><a href="#org2a08892">Port Rollover Problem</a></li>
<li><a href="#orgd3297e9">Zabbis DR</a></li>
<li><a href="#org2e7bb7b">E2net Migration</a></li>
<li><a href="#orgda44442">FR8/OCVS</a></li>
<li><a href="#org11c3145">JIRA/Cloudy requests for k8s</a></li>
<li><a href="#orgf321ed7">Plans for FR4</a></li>
<li><a href="#orgb0fac46">Plans for Naperville</a></li>
<li><a href="#org7aa4256">Plans for vxRail</a></li>
<li><a href="#org8727b95">Plans for DevTools</a></li>
</ul>
</li>
<li><a href="#orgb3eb3a5">Archive</a>
<ul>
<li><a href="#org39a0918">Rubrik</a></li>
<li><a href="#orgd311a7a">Dell server roadmap</a></li>
<li><a href="#orgf8d8142">Elastic Search</a></li>
<li><a href="#orgdc92575">Vault</a></li>
<li><a href="#org5cf4ef7">CloudHealth</a></li>
<li><a href="#org4c85eef">Incident Manager</a></li>
<li><a href="#orga247ff2">Naming Conventions</a></li>
</ul>
</li>
<li><a href="#orgc300883">1on1</a>
<ul>
<li><a href="#org397c3cc">Kantha</a></li>
<li><a href="#org46edaff">Rajesh</a></li>
<li><a href="#org7a77d38">Me</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-org7a9fc83" class="outline-2">
<h2 id="org7a9fc83">Quick Notes</h2>
</div>
<div id="outline-container-org0283313" class="outline-2">
<h2 id="org0283313">Mon</h2>
</div>
<div id="outline-container-orgde2b2c9" class="outline-2">
<h2 id="orgde2b2c9">Tue</h2>
<div class="outline-text-2" id="text-orgde2b2c9">
</div>
<div id="outline-container-org3d76693" class="outline-3">
<h3 id="org3d76693">5/23/23</h3>
<div class="outline-text-3" id="text-org3d76693">
</div>
<div id="outline-container-org6b7dc05" class="outline-4">
<h4 id="org6b7dc05">New tasklist/progress tracker</h4>
<div class="outline-text-4" id="text-org6b7dc05">
<ul class="org-ul">
<li>Confluence table
Excel
MS Planner</li>
</ul>
</div>
</div>
<div id="outline-container-orgccb1980" class="outline-4">
<h4 id="orgccb1980">Add 9:00am working sessions?</h4>
<div class="outline-text-4" id="text-orgccb1980">
<ul class="org-ul">
<li>Tue? Wed?
9am?
<a href="https://i.imgur.com/4lBtKyq.png%0D">https://i.imgur.com/4lBtKyq.png%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-orged4f8d2" class="outline-4">
<h4 id="orged4f8d2">Generate argocd notes</h4>
<div class="outline-text-4" id="text-orged4f8d2">
<ul class="org-ul">
<li><a href="https://confluence.dev.e2open.com/display/KUBE/Argocd+Automation%0D">https://confluence.dev.e2open.com/display/KUBE/Argocd+Automation%0D</a>
Pros
Cons
Questions
Other concerns</li>
</ul>
</div>
</div>
<div id="outline-container-org0483eb4" class="outline-4">
<h4 id="org0483eb4">Terraform</h4>
<div class="outline-text-4" id="text-org0483eb4">
<ul class="org-ul">
<li>Create tkc</li>
<li>What can it do that argo can't?</li>
<li>What can't it do?</li>
<li>Create ns</li>
<li>Deploy yaml/app to multiple clusters?  namespaces?  dynamic?</li>
<li>State
Storing vs not storing
Terraform's state file is a crucial component of how Terraform manages and tracks resources. It keeps track of the metadata of all the resources it creates and manages. The state file is vital in ensuring idempotency, allowing Terraform to know what it previously provisioned and to make changes accordingly.
That said, here are the pros and cons of maintaining Terraform state files vs regenerating them:
<ul class="org-ul">
<li><p>
<b><b>Keeping Terraform State:</b></b>
Pros:
</p>
<ol class="org-ol">
<li><b><b>Tracking</b></b>: State files provide Terraform the context it needs to know what has been previously created and what changes need to be made to achieve the desired state defined in your configuration files.</li>
<li><b><b>Performance</b></b>: Without state files, Terraform would need to query the provider API to discover resources each time you run a command. State files cache this information, reducing the number of necessary API calls and making Terraform operations faster.</li>
<li><b><b>Idempotency</b></b>: With the state file, Terraform can ensure that commands like `terraform apply` are idempotent, i.e., repeated commands do not result in different outcomes. This makes operations predictable and safe.</li>
</ol>
<p>
Cons:
</p>
<ol class="org-ol">
<li><b><b>Sensitive Data</b></b>: State files can contain sensitive data, as they capture all the details about your resources. You'll need to be careful about how you store and handle state files.</li>
<li><b><b>State Drift</b></b>: The actual infrastructure can drift from the state defined in the state file if changes are made outside of Terraform.</li>
<li><b><b>Merge Conflicts</b></b>: In a team setting, if multiple people are making changes concurrently, this could lead to merge conflicts in the state file.</li>
</ol></li>
<li><p>
<b><b>Regenerating Terraform State as Needed:</b></b>
Pros:
</p>
<ol class="org-ol">
<li><b><b>No Syncing Needed</b></b>: Since you regenerate state every time, you don't need to worry about keeping the state file in sync with the actual infrastructure.</li>
<li><b><b>Reduced Risk</b></b>: There's less risk of sensitive data exposure from the state file, as it's not persistently stored.</li>
</ol>
<p>
Cons:
</p>
<ol class="org-ol">
<li><b><b>Slower</b></b>: Regenerating state would involve Terraform querying all your resources each time you run a command, which can be slow for large infrastructures.</li>
<li><b><b>No History</b></b>: Without a persistent state file, you lose history and the ability to see how resources have changed over time.</li>
<li><b><b>Inconsistent Results</b></b>: Regenerating state can result in inconsistencies. If you create resources with Terraform and then regenerate the state, Terraform will lose track of the resources it has created, which can cause problems.</li>
</ol></li>
</ul></li>
<li>In conclusion, it is generally recommended to keep and properly manage Terraform state files. They play a critical role in how Terraform operates, and the benefits usually outweigh the drawbacks. The key is to establish proper state file management practices, such as using remote state, enabling state locking, and routinely checking for state drift.</li>
<li>How to schedule (when and where should what run?)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org0881f70" class="outline-3">
<h3 id="org0881f70">6/13/23</h3>
<div class="outline-text-3" id="text-org0881f70">
<ul class="org-ul">
<li>Label mandata, all environments</li>
<li>Wrap up research
config mgmt (all the same) vs cattle (different but treated the same)</li>
<li>Next projects
ArgoCD Design (K)
Vault Justification (R)
Work on priorities</li>
<li>Training and expenses
What do we need
Take what you need</li>
<li>GitOps sans automation, workflow manumation, documation</li>
<li>CI build automation
Github actions to prep things for use
Alternatives?</li>
<li>Schedule 1on1s</li>
<li>Additional weekly meeting</li>
</ul>
</div>
</div>

<div id="outline-container-org6b3c393" class="outline-3">
<h3 id="org6b3c393">CD vs Config Management</h3>
<div class="outline-text-3" id="text-org6b3c393">
<ul class="org-ul">
<li>Define CM
<ul class="org-ul">
<li>Same thing in multiple places
I.e. same config settings across multiple clusters
Same tools installed in multiple clusters with cluster specific options</li>
</ul></li>
<li>Assumption
<ul class="org-ul">
<li>Argo doesn't do config management
Uses kustomize to adapt yaml on the fly, can't handle mutiple clusters with the same yaml without injecting env variables or other tkc specific data.
This could be solved by running a CI build whenever the yaml is checked in to inject values rather than at run time</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org18a8328" class="outline-3">
<h3 id="org18a8328">Label mandate, all environments</h3>
<div class="outline-text-3" id="text-org18a8328">
<ul class="org-ul">
<li>VM (as seen from vSphere)
<ul class="org-ul">
<li>Node labels
visible to K8s
Configured in TMC via TF</li>
<li>Cloud label
visible to vsphere and TMC
Configured in TMC via TF</li>
<li><p>
VSphere TAG
Everytime a node is rebuilt or horizontal scaling creates/destroys a node the tagging is lost
Tanzu creates node VMs, we don't have any control over tags
</p>
<ul class="org-ul">
<li>Find out what VMware recommends</li>
</ul>
<p>
Might need to filter at the cloud insight level
</p></li>
</ul></li>
</ul>

<ul class="org-ul">
<li>Namespace
<ul class="org-ul">
<li>Application ns
Normal solution CI- labels applied via yaml</li>
<li>Tooling ns
Fixed labels for CI-department, etc.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org42ea10b" class="outline-3">
<h3 id="org42ea10b">CodeFresh</h3>
<div class="outline-text-3" id="text-org42ea10b">
</div>
<div id="outline-container-org9819407" class="outline-4">
<h4 id="org9819407">TF</h4>
<div class="outline-text-4" id="text-org9819407">
<ul class="org-ul">
<li>Terraform requires lock management to prevent multiple tf's from trying to make changes at the same time.  The infra to do this is 3rd party (Atlantis) and untested.   Definitely complex.</li>
<li>Actual state is not stored in git, only "Expected" state</li>
<li>tf is good for things that don't change much, like the initial cluster creation, onboarding to tmc, installation of core cluster objects.</li>
</ul>
</div>
</div>
<div id="outline-container-orgd53b012" class="outline-4">
<h4 id="orgd53b012">Argo</h4>
<div class="outline-text-4" id="text-orgd53b012">
<ul class="org-ul">
<li>for everything else?</li>
</ul>
</div>
</div>
<div id="outline-container-orge8bb430" class="outline-4">
<h4 id="orge8bb430">Tunnelling</h4>
<div class="outline-text-4" id="text-orge8bb430">
<ul class="org-ul">
<li>Using a tunnel/mesh to communicate between CD components, git, argo, image repos, artifactory, jump servers.
Codefresh has a TLS based one that uses 443, expects 443 open to everywhere, public cloud based.
Tailscale-WireGuard</li>
</ul>
</div>
</div>
<div id="outline-container-org9c093f6" class="outline-4">
<h4 id="org9c093f6">TMC</h4>
<div class="outline-text-4" id="text-org9c093f6">
<ul class="org-ul">
<li>To apply OPA to entire cluster rather than using tf or argo</li>
</ul>
</div>
</div>
<div id="outline-container-org9d37977" class="outline-4">
<h4 id="org9d37977">Tigris</h4>
<div class="outline-text-4" id="text-org9d37977">
<ul class="org-ul">
<li>Nosql key/value store
<a href="https://github.com/tigrisdata/tigris%0D">https://github.com/tigrisdata/tigris%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-org1d3b219" class="outline-4">
<h4 id="org1d3b219">Monitoring and health</h4>
<div class="outline-text-4" id="text-org1d3b219">
<ul class="org-ul">
<li>argocd<sub>app</sub><sub>info</sub>
<a href="https://argo-cd.readthedocs.io/enn/stable/operator-manual/health%0D">https://argo-cd.readthedocs.io/enn/stable/operator-manual/health%0D</a>
<a href="https://github.com/argoproj/gitops-engine/blob/master/pkg/health/health.go#L24%0D">https://github.com/argoproj/gitops-engine/blob/master/pkg/health/health.go#L24%0D</a>
<a href="https://github.com/argoproj/argo-cd/blob/master/ui/src/app/shared/models.ts#L301%0D">https://github.com/argoproj/argo-cd/blob/master/ui/src/app/shared/models.ts#L301%0D</a></li>
<li>health<sub>status</sub>
<a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/metrics%0D">https://argo-cd.readthedocs.io/en/stable/operator-manual/metrics%0D</a></li>
<li>sync<sub>status</sub>
<a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/metric%0D">https://argo-cd.readthedocs.io/en/stable/operator-manual/metric%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-org22155a2" class="outline-4">
<h4 id="org22155a2">Codefresh conclusions</h4>
<div class="outline-text-4" id="text-org22155a2">
<ul class="org-ul">
<li><a href="https://i.imgur.com/TISi4wq.png%0D">https://i.imgur.com/TISi4wq.png%0D</a></li>
<li>coupon / class
<a href="https://i.imgur.com/LXRwm4Q.png%0D">https://i.imgur.com/LXRwm4Q.png%0D</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orga226423" class="outline-2">
<h2 id="orga226423">Wed</h2>
</div>
<div id="outline-container-org78476f6" class="outline-2">
<h2 id="org78476f6">Thu</h2>
<div class="outline-text-2" id="text-org78476f6">
</div>
<div id="outline-container-org84c8c17" class="outline-3">
<h3 id="org84c8c17">OCVS</h3>
<div class="outline-text-3" id="text-org84c8c17">
<ul class="org-ul">
<li>Netops is working on fastconnect that connects our DCs to cloud
Once that's complete we need to install Tanzu
TKG/s</li>
</ul>
</div>
</div>
<div id="outline-container-org54bd040" class="outline-3">
<h3 id="org54bd040">K8s DR</h3>
<div class="outline-text-3" id="text-org54bd040">
<ul class="org-ul">
<li>What can k8s offer?
<ul class="org-ul">
<li>Self-healing
Reconcile current state to desired state
Requires GitOps</li>
<li>Rebuild pods, nodes, policies, load balancers, networks?
How far can each one go today
How far can each go if we make changes/improvements?</li>
</ul></li>
<li>What can we offer today for DR?
For an application namespace?
For an entire tkc?</li>
<li><p>
What do we want?
</p>
<ul class="org-ul">
<li>Vmotion for tkc's?</li>
<li>Replicate data and desired state and build on the fly during DR event?
<ul class="org-ul">
<li>What do we need to do this?</li>
</ul></li>
</ul>
<p>
GitOps, GitOps tooling in DR location
Data replication in a declarative/code way
Shift to using Storage abstraction
</p></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org95e830d" class="outline-2">
<h2 id="org95e830d">Fri</h2>
<div class="outline-text-2" id="text-org95e830d">
</div>
<div id="outline-container-orgfa2ce2c" class="outline-3">
<h3 id="orgfa2ce2c">5/18/23</h3>
<div class="outline-text-3" id="text-orgfa2ce2c">
</div>
<div id="outline-container-org8f49e6b" class="outline-4">
<h4 id="org8f49e6b">People</h4>
<div class="outline-text-4" id="text-org8f49e6b">
<ul class="org-ul">
<li>Equity 100 vs 130%
currently receiving on call allowance for weekends
Ask HR if there is a shift bonus for 2nd shift on call
This isn't considered part of their base pay for bonus/equity incentives?
This won't continue post DCO to DCE transition
Correction for that.
Correction for change of role
Correction for Kantha</li>
<li>Change of working hours to 2nd shift MYT 3pm -11pm</li>
<li>ayyappan interested in more k8s work, possibly applying for engineering team.</li>
<li>Most kOps tasks are done by Jeyson in NA including major upgrade projects.</li>
<li>Most kOps tasks done by Ayyappan and Ming in APAC</li>
<li>Ming should take a larger role in kOps</li>
</ul>
</div>
</div>
<div id="outline-container-orge04bad1" class="outline-4">
<h4 id="orge04bad1">Places</h4>
<div class="outline-text-4" id="text-orge04bad1">
<ul class="org-ul">
<li>e2prod fr8, rubrik for backups of trident
fra-stg/prod snapmirror DR to paris (ontap appliance)
Where can they test this?</li>
<li>How did the VMware offsite go?</li>
<li>Need a vSphere Team/Architect/Lead/Owner</li>
</ul>
</div>
</div>
<div id="outline-container-orgca9008d" class="outline-4">
<h4 id="orgca9008d">Things</h4>
<div class="outline-text-4" id="text-orgca9008d">
<ul class="org-ul">
<li>Ops will be migrating dev k8s backups from affcluster 1 (no nbu license) to 2 (yes nbu license)</li>
<li>Vrni licensing to troubleshoot nsx issue</li>
<li>licensing portal access for k &amp; r</li>
<li>Ming reinitialized a tanzu node which had clock skew.
Need a monitor for this</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org55aae13" class="outline-3">
<h3 id="org55aae13">CDM</h3>
<div class="outline-text-3" id="text-org55aae13">
<ul class="org-ul">
<li>CDM
<a href="https://jira.dev.e2open.com/jira/browse/OPS-99200%0D">https://jira.dev.e2open.com/jira/browse/OPS-99200%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-org74da6dd" class="outline-3">
<h3 id="org74da6dd">6/8/23</h3>
<div class="outline-text-3" id="text-org74da6dd">
<ul class="org-ul">
<li>E2net update</li>
<li>Cleanup of unused tkc's
3 more scheduled to remove, waiting on confirmation</li>
<li>Cloudy/Jira
Devops might have time in 2-3 weeks
Scheduling call to get all requirements defined ahead of time</li>
<li>OCVS load balancer / AVI
This will probably require several detailed sessions up to a full workshop with vmware
self-healing software-defined elastic application delivery fabric, that just so happens to provide load balancing features. WAF, appalytics, deals with ip pooling issues</li>
<li>Netapp Cloud Insights
Have Joel work with Adam on setup and implementation
Tim, HY, Joel, You and I should make a list of what we want out of it.  Brainstorm, fancy notetaking.</li>
<li>NSX-T updates
deployed in dev
No issues observed so far.  It can take a while to show symptoms.
scheduled for staging this weekend
More better.</li>
<li>DR
What can k8s offer for DR?
What should we?</li>
<li>Portworx</li>
<li>Vault</li>
</ul>
</div>
</div>
<div id="outline-container-org4067976" class="outline-3">
<h3 id="org4067976">6/23/23</h3>
<div class="outline-text-3" id="text-org4067976">
<ul class="org-ul">
<li>E2net update</li>
<li>Portworks</li>
<li>Vault</li>
<li>OCVS
<ul class="org-ul">
<li>TKG/s vs m
Should be the same everywhere since it impacts how we do support and LCM
M uses more hardware</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orge73f988" class="outline-2">
<h2 id="orge73f988">ToDo</h2>
<div class="outline-text-2" id="text-orge73f988">
</div>
<div id="outline-container-orgc84ae28" class="outline-3">
<h3 id="orgc84ae28">Clock Skew</h3>
<div class="outline-text-3" id="text-orgc84ae28">
</div>
<div id="outline-container-orgbc03c99" class="outline-4">
<h4 id="orgbc03c99">Ming reinitialized a tanzu node which had a clock skew.</h4>
<div class="outline-text-4" id="text-orgbc03c99">
<p>
Need a monitor for this
</p>
</div>
</div>
</div>
<div id="outline-container-orgbabe0c3" class="outline-3">
<h3 id="orgbabe0c3">ssh jump pod</h3>
<div class="outline-text-3" id="text-orgbabe0c3">
<p>
create an ssh jump server pod
inject secrets(pubkeys) from vault
start sshd
sleep for an hour
pod terminates
create terraform to deploy an ssh pod
</p>
</div>
</div>
<div id="outline-container-orgbff8082" class="outline-3">
<h3 id="orgbff8082">Capacity Analysis</h3>
<div class="outline-text-3" id="text-orgbff8082">
</div>
<div id="outline-container-orgb7e3208" class="outline-4">
<h4 id="orgb7e3208">R&amp;D and E2open Accoount / E2Customer do not exist in cloudy so they shouldn't be created</h4>
</div>
<div id="outline-container-org99531ea" class="outline-4">
<h4 id="org99531ea">Separate Staging from Dev</h4>
</div>
<div id="outline-container-orgd22023a" class="outline-4">
<h4 id="orgd22023a">Weighted Score for each DC</h4>
<div class="outline-text-4" id="text-orgd22023a">
<p>
performace
capacity
obsolescence

risk
trending
comfort

maybe compare to last year?
<b>*</b>
capacity analysis
hot spots
prescribed actions
</p>
</div>
</div>
</div>
<div id="outline-container-org68a22cf" class="outline-3">
<h3 id="org68a22cf">Network Performance</h3>
<div class="outline-text-3" id="text-org68a22cf">
<p>
VM's consolidated hardware and exposed resource contention in the network and storage areas.
k8s consolidation is another order of magnitude and further stresses network and storage.
e2open's network is 1gig and 10gig and NAS storage shares that. additionally, our SAN is 8 and 16gig fiber.
most vendors are recommending dual 25G per esx host minimum and quad 100G between clusters for kubernetes
</p>
</div>
<div id="outline-container-org5cd2f91" class="outline-4">
<h4 id="org5cd2f91">Collect some articles</h4>
</div>
<div id="outline-container-orgfdc3a21" class="outline-4">
<h4 id="orgfdc3a21">make a monitoring procedure</h4>
</div>
</div>
<div id="outline-container-orgf3dc222" class="outline-3">
<h3 id="orgf3dc222">Tanzu Design Doc</h3>
<div class="outline-text-3" id="text-orgf3dc222">
<p>
Tanzu Design Doc

complete overarching doc
components will go towards this doc
general k8s architecture

talbot meeting to decide what belongs in that doc
</p>
</div>
</div>
</div>
<div id="outline-container-orgf426f78" class="outline-2">
<h2 id="orgf426f78">Attention</h2>
<div class="outline-text-2" id="text-orgf426f78">
</div>
<div id="outline-container-orgf7b566a" class="outline-3">
<h3 id="orgf7b566a">Request for cluster admin</h3>
<div class="outline-text-3" id="text-orgf7b566a">
<p>
Does this app team have their own DevOps team and/or Deployment tool?
If they do, we can give them their own cluster to build and run. We are not responsible for anything inside the cluster other than providing required policies and daemon sets (falco, fluentbit, need list).
What about namespace admin?
</p>
</div>
</div>
<div id="outline-container-org2a08892" class="outline-3">
<h3 id="org2a08892">Port Rollover Problem</h3>
<div class="outline-text-3" id="text-org2a08892">
<p>
port roll over problem (1 egress IP) mostly a windows problem, worse for nfs?
</p>
</div>
</div>
<div id="outline-container-orgd3297e9" class="outline-3">
<h3 id="orgd3297e9">Zabbis DR</h3>
<div class="outline-text-3" id="text-orgd3297e9">
</div>
<div id="outline-container-org952cde4" class="outline-4">
<h4 id="org952cde4">ask R&amp;D to propose zabbis DR timeline</h4>
</div>
</div>
<div id="outline-container-org2e7bb7b" class="outline-3">
<h3 id="org2e7bb7b">E2net Migration</h3>
<div class="outline-text-3" id="text-org2e7bb7b">
<ul class="org-ul">
<li>B2bc
<ul class="org-ul">
<li>Cisco
Staging on 5/22 had some issues, rescheduling that update
r&amp;d looking into the issue
Production deploy still tentatively scheduled for August</li>
<li>Non-cisco
Last email was a followup after the meeting we all had with Peter on 5/10.
I have nothing since… which leads me to believe they used the b2bc list and the sftp doc instead of the b2b docs from the 5/10 email and meeting.</li>
</ul></li>
<li>Sftp-e2net</li>
</ul>


<ul class="org-ul">
<li>Sftp-non-e2net
<ul class="org-ul">
<li>Email Crafted</li>
<li>List curated
addressees pending</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgda44442" class="outline-3">
<h3 id="orgda44442">FR8/OCVS</h3>
<div class="outline-text-3" id="text-orgda44442">
<ul class="org-ul">
<li>fr8</li>
<li>long term dc in europe</li>
<li>doesn't have DR</li>
<li>paris</li>
<li>SDDC on public OCI cloud</li>
<li>poc/testing completed</li>
<li>ontap replication</li>
<li>vsphere replication</li>
<li>Network transport questions</li>
<li>overlay transport zones</li>
</ul>
</div>
</div>
<div id="outline-container-org11c3145" class="outline-3">
<h3 id="org11c3145">JIRA/Cloudy requests for k8s</h3>
<div class="outline-text-3" id="text-org11c3145">
<ul class="org-ul">
<li>jira requests/cloudy</li>
<li>new/existing kns/tkc</li>
</ul>
</div>
</div>
<div id="outline-container-orgf321ed7" class="outline-3">
<h3 id="orgf321ed7">Plans for FR4</h3>
<div class="outline-text-3" id="text-orgf321ed7">
<p>
plan for fr4?

old network, 100mbit
old ibm hardware, out of support, parts
esx 6.5 and 6.7 hosts can't be upgraded, out of support, many security issues.
esx 5.5 hosts can only run stand alone, can't join vcenter, are these even in inventory anywhere?
claim is that customer needs these 24/7 and their contract says we can't do any maintenance???
is this contract even worth continuing?
</p>
</div>
</div>
<div id="outline-container-orgb0fac46" class="outline-3">
<h3 id="orgb0fac46">Plans for Naperville</h3>
</div>
<div id="outline-container-org7aa4256" class="outline-3">
<h3 id="org7aa4256">Plans for vxRail</h3>
</div>
<div id="outline-container-org8727b95" class="outline-3">
<h3 id="org8727b95">Plans for DevTools</h3>
</div>
</div>
<div id="outline-container-orgb3eb3a5" class="outline-2">
<h2 id="orgb3eb3a5">Archive</h2>
<div class="outline-text-2" id="text-orgb3eb3a5">
</div>
<div id="outline-container-org39a0918" class="outline-3">
<h3 id="org39a0918">Rubrik</h3>
<div class="outline-text-3" id="text-org39a0918">
<ul class="org-ul">
<li>K8s Agent to CentralDM private tunnel port 8011
Agents are on google container registry (internet)
Rubrik nodes need inet access
Requires version 8.0.3 or 8.1.1
To use with trident csi requires kubernetes external snapshotter
Netapp external-snapshotter on github</li>
</ul>
</div>
</div>
<div id="outline-container-orgd311a7a" class="outline-3">
<h3 id="orgd311a7a">Dell server roadmap</h3>
<div class="outline-text-3" id="text-orgd311a7a">
<p>
Intel Xeon Gold 6348 @ 2.60GHz
ddr4 3600

replace with gold 5420+ @ 2.0Ghz
ddr5 4800
</p>
</div>
</div>
<div id="outline-container-orgf8d8142" class="outline-3">
<h3 id="orgf8d8142">Elastic Search</h3>
<div class="outline-text-3" id="text-orgf8d8142">
<p>
ES for CI
in dev
need hardware
build, test, break, runbook
</p>
</div>
</div>
<div id="outline-container-orgdc92575" class="outline-3">
<h3 id="orgdc92575">Vault</h3>
<div class="outline-text-3" id="text-orgdc92575">
<ul class="org-ul">
<li><p>
Proposal
</p>
<ul class="org-ul">
<li>4 prod, 4 non-prod, gold support, 50 users
<ul class="org-ul">
<li>Includes cobra training</li>
</ul></li>
</ul>
<p>
7 weeks 1 hour per week, unlimited attendees
</p>
<ul class="org-ul">
<li>Paid training/certification</li>
</ul>
<p>
3 days, 10k for 5 people
</p>
<ul class="org-ul">
<li>Cost</li>
</ul>
<p>
MSRP $451,440 for 3 years paid annually
    Discounted $293,436 by July 28th
    True up happens at end of 3 years
    Does this mean you can grow wildly and then shrink just before renewal?
</p>
<ul class="org-ul">
<li>Gold support
4 support specialists assigned to our account
1 CSM assigned to our account
Meet monthly, KB's, Tickets, etc.</li>
<li>Procurement
<ul class="org-ul">
<li>AWS Marketplace</li>
</ul></li>
</ul>
<p>
EDP -&gt; draw down from your commit
Terms based on AWS Terms
</p>
<ul class="org-ul">
<li>Signed Order with or without PO</li>
</ul>
<p>
Net 30/45 based on PO
</p></li>
<li>Cluster size stays small until 100 clients PER cluster or 400 clients for 4 clusters before it shifts to medium for the purposes of licensing</li>
<li>Client license consumption
When the service-account is mapped to a path in vault, it is considered active.
If we never map it to a path, it is not active and not used.
We can precreate the KV paths, and the s-a but not assign it and we don't have to pay for them now.</li>
<li>Prod or Non-Prod Staging
An interesting discussion came up about whether Staging was prod or non-prod when it came to vault.
Staging has a spotty history at e2open and has been used for everything from development to prototyping to QA to deployment testing/proofing to data quality assurance (with customer data!!) to modelling to light production use (like pre-sales demos).
Limiting the focus right now to provisioning and deployment needs (so, Digital AI, Tanzu, K8s, Terraform?) and our intent to buy enterprise vault by limiting the scope to "use tool X to pull secret from vault, inject in payload and deploy"&#x2026;.
How can we answer the question, what kind of secrets does staging need?
Time allowing, we can continue with Dave's plans to build a central tool to manage secrets in the vault, which will reduce the license requirements for human clients greatly.  What will this need, how does KPE avoid making this more difficult for Dave's development efforts.
<ul class="org-ul">
<li>Dev</li>
<li>Test</li>
<li>Uat (customers test changes to applications before accepting them for production use)</li>
<li>Staging</li>
<li>Pre-prod (includes customer data and customer access)</li>
<li>Prod</li>
<li>Prime = prod, used by all production applications/deployments</li>
<li>Beta = staging, used by all non-prod</li>
<li>Alpha = dev, used by platform engineers, people who are changing</li>
</ul></li>
<li>Vault Tool
Allows users to declare what they need for their application in a structured way ala pd
Database passwords, secrets, tokens go here…
May use vault for entire pd-style config store
Will use one service account per environment?
Known structured method to create, known structured method to consume
<ul class="org-ul">
<li>This is somewhat contradictory to the cloud like approach shaival prescribed
My application consumes vault as a service
Request a "space"
Use it however my app wants to use it</li>
<li>Need to review our vault provisioning/onboarding and stop creating empty stores
Each has a unique service-account/user
Will continue Thursday</li>
</ul></li>
<li>Does the creation of a user trigger licensing or does USE by a user trigger it?
YES (hashi)</li>
</ul>
</div>
</div>
<div id="outline-container-org5cf4ef7" class="outline-3">
<h3 id="org5cf4ef7">CloudHealth</h3>
<div class="outline-text-3" id="text-org5cf4ef7">
<ul class="org-ul">
<li>install on each cluster
export CHT<sub>API</sub><sub>TOKEN</sub>=7eb7c32fa68fc108ac7ad934a28ceaa2f76e892aa2accb35
export CHT<sub>CLUSTER</sub><sub>NAME</sub>=\({clustername}
    export CHT_NAMESPACE=\){namespace}
helm repo add cloudhealth <a href="https://cloudheatth.github.io/helm/%0D">https://cloudheatth.github.io/helm/%0D</a>
helm install cloudhealth-collector -n $CHT<sub>NAMESPACE</sub> &#x2013;set apiToken=$CHT<sub>API</sub><sub>TOKEN,clusterName</sub>=$CHT<sub>CLUSTER</sub><sub>NAME</sub> cloudhealth/cloudhealth-collector</li>
<li>to upgrade
helm upgrade cloudhealth-collector cloudhealth/cloudhealth-collector</li>
<li>to uninstall
helm uninstall cloudhealth-collector
helm repo remove cloudhealth</li>
<li>should label these
&#x2013;set customLabels={}</li>
<li>more info
<a href="https://github.com/CloudHealth/helm%0D">https://github.com/CloudHealth/helm%0D</a>
<a href="https://i.imgur.com/7O37MY6.png%0D">https://i.imgur.com/7O37MY6.png%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-org4c85eef" class="outline-3">
<h3 id="org4c85eef">Incident Manager</h3>
<div class="outline-text-3" id="text-org4c85eef">
<p>
Unified Incident Management Process
e2pr in april
need more incident managers
does not need specific knowledge of application
will get training for responsibilities
does not need to be technical but might benefit
coordination
communication
guide technical team
provide pressure and guide rails
only during office hours
currently 5 in US
9 in APAC
7 in EMEA
</p>
</div>
</div>
<div id="outline-container-orga247ff2" class="outline-3">
<h3 id="orga247ff2">Naming Conventions</h3>
<div class="outline-text-3" id="text-orga247ff2">
<ul class="org-ul">
<li>Discuss naming conventions
<ul class="org-ul">
<li>DCOps
DC
vCenter &lt;- vmware cluster
vSphere namespace -&gt; egress IP
TKG
<ul class="org-ul">
<li>WCP</li>
<li>Worker nodes -&gt; esx hosts</li>
</ul></li>
<li>DCEng
TKC &lt;&#x2013; consumes resources
NS
Deployments
Special
<ul class="org-ul">
<li>SA = Service accounts</li>
<li>RB = role bindings</li>
<li>Secrets</li>
</ul></li>
</ul></li>
<li>ArgoCD Demo
How to arrange "tiles"
    1 tile per DC-Environment for all clusters (wcp level)
	Example:
	CH3-PROD
	    Ch3-prod-Cluster1.yaml
	    Ch3-prod-Cluster2.yaml
	    Ch3-prod-Cluster3.yaml
	SJC-PROD
	    Prod-sjc-Cluster4.yaml
	    Prod-sjc-Cluster5.yaml
	FR8-PROD
	    Cluster6.yaml
	    Cluster7.yaml
	    Cluster8.yaml
	FR8-STG
	    Cluster9.yaml
	    Cluster10.yaml
	SV1-DEV
	    dev-ci.yaml &lt;&#x2014; tkc
	    pepsi-lds.yaml
	    e2dev-tanzu-rdm.yaml
    1 tile per cluster for everything inside
	Example:
	Ch3-prod-Cluster1
	    Cluster1-sys.yaml
	    Cluster1-sys-Rb.yaml
	    Cluster1-sys-Sa.yaml
	    Cluster1-sys-OPA.yaml
	    Cluster1-sys-falco.yaml
	    Cluster1-sys-fluntbit.yaml
	    Cluster1-Ns1.yaml
	    Cluster1-Ns1-Rb.yaml
	    Cluster1-Ns1-Sa.yaml
	    Cluster1-Ns1-Psp.yaml
	    Cluster1-Ns1-App3.yaml
	    Cluster1-Ns2.yaml
	    Cluster1-Ns2-Rb.yaml
	    Cluster1-Ns2-Sa.yaml
	    Cluster1-Ns2-Psp.yaml
	    Cluster1-Ns2-App4.yaml</li>
<li>CI windows are by physical region</li>
<li>Daytime work hours are by region</li>
<li><p>
Cluster types:
Multi-tenant
</p>
<ul class="org-ul">
<li>E2proxy
…-e2proxy.yaml</li>
<li>CL
…-cl1.yaml
…-cl2.yaml</li>
<li>CDM
Ch3-prod-cdm1.yaml
Ch3-prod&#x2013;cdm2.yaml
Ch3-prod&#x2013;cdm3.yaml</li>
</ul>
<p>
Single-tenant (1 namespace per tenant)
</p>
<ul class="org-ul">
<li>DX
…-dx10.yaml
…-dx2.yaml
…-dx.yaml
…-dx1.yaml
…-dx2.yaml
…-dx3.yaml
…-dx.yaml  &lt;&#x2013; prime</li>
<li>xDS</li>
</ul>
<p>
Common
</p>
<ul class="org-ul">
<li>Ci         &lt; ci that belongs to ci</li>
<li>Cops       &lt; ci that belongs to ops</li>
<li>E2proxy    &lt; ci that needs its own dmz</li>
</ul></li>
<li>Should we use - to separate dc-env-cluster
Can't use _ in tkc or vns names</li>
<li>examples
e2dev-tanzu-dcops        &lt;&#x2013; don't do this.  These are test clusters
e2dev-tanzu-dcops-2023   &lt;&#x2013; don't do this.  These are test clusters
e2dev-tanzu-project-name &lt;&#x2013; don't do this.  These are test clusters
e2dev-tanzu-vault        &lt;&#x2013; this is a test, this belongs in cops
e2open-test              &lt;&#x2013; don't do this.  These are test clusters
tanzu-workshop           &lt;&#x2013; don't do this.  These are test cluster
Default                  &lt;&#x2013; system created cluster</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc300883" class="outline-2">
<h2 id="orgc300883">1on1</h2>
<div class="outline-text-2" id="text-orgc300883">
</div>
<div id="outline-container-org397c3cc" class="outline-3">
<h3 id="org397c3cc">Kantha</h3>
<div class="outline-text-3" id="text-org397c3cc">
</div>
<div id="outline-container-org23bbfb6" class="outline-4">
<h4 id="org23bbfb6">6/13/23</h4>
<div class="outline-text-4" id="text-org23bbfb6">
<ul class="org-ul">
<li>Shared learning (Kantha)
I was stuck, I figured it out, here's how.
Post it in the team chat
Some ideas are good for DCOps, how to share with them?</li>
<li>We need a team meeting that's just our team</li>
<li>Promotion/raise info, when</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org46edaff" class="outline-3">
<h3 id="org46edaff">Rajesh</h3>
<div class="outline-text-3" id="text-org46edaff">
</div>
<div id="outline-container-orgae1a312" class="outline-4">
<h4 id="orgae1a312">6/26/23</h4>
</div>
</div>
<div id="outline-container-org7a77d38" class="outline-3">
<h3 id="org7a77d38">Me</h3>
<div class="outline-text-3" id="text-org7a77d38">
</div>
<div id="outline-container-orge71dbf1" class="outline-4">
<h4 id="orge71dbf1">3/28/23</h4>
<div class="outline-text-4" id="text-orge71dbf1">
<ul class="org-ul">
<li>work hours change</li>
<li>adam</li>
<li>capacity planning</li>
<li>vsphere/vrops</li>
<li>Capacity Analysis</li>
<li>should meet next week to review desired changes.</li>
<li>gitops</li>
<li>day 2.5 with cdm</li>
<li>does the decision making</li>
<li>doesn't do go/no-go (unless you want)</li>
<li>mvi/mvp</li>
<li>need to start over, ship has sailed.</li>
<li>talk about platform as a product</li>
<li>vs what platform as a service is</li>
<li>goals</li>
<li>personal</li>
<li>DCEng</li>
<li>VMware initiatives</li>
<li><a href="https://i.imgur.com/C0vDUYF.png%0D">https://i.imgur.com/C0vDUYF.png%0D</a></li>
<li>incident manager</li>
<li>better, but not comfortable at all.</li>
<li>I'll be honest, I deal with the intensity and stress of this job largely due to the flexibility of it&#x2026; commitments that are likely to interfere with my own time are going to make these things harder to deal with.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Michael Kronvold</p>
<p class="date">Created: 2023-06-22 Thu 13:36</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
