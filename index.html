<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-06-23 Fri 16:21 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>mkronvold org-mode notes</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Michael Kronvold" />
<meta name="description" content="Org mode Notes"
 />
<meta name="keywords" content="syntax, org, document" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="export/styles/darksun/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="export/styles/darksun/css/darksun.css"/>
<link rel="stylesheet" type="text/css" href="export/styles/darksun/css/hideshow.css"/>
<script type="text/javascript" src="export/styles/darksun/js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="export/styles/darksun/js/jquery-ui-1.10.2.min.js"></script>
<script type="text/javascript" src="export/styles/darksun/js/jquery.localscroll-min.js"></script>
<script type="text/javascript" src="export/styles/darksun/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script type="text/javascript" src="export/styles/darksun/js/jquery.zclip.min.js"></script>
<script type="text/javascript" src="export/styles/darksun/js/darksun.js"></script>
<script type="text/javascript" src="export/styles/darksun/js/hideshow.js"></script>
<script type="text/javascript" src="export/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">mkronvold org-mode notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org611a967">Quick Notes</a></li>
<li><a href="#org8fdd9a2">Mon</a></li>
<li><a href="#org6d62ba3">Tue</a></li>
<li><a href="#org81a4333">Wed</a></li>
<li><a href="#org2b97732">Thu</a></li>
<li><a href="#org614a671">Fri</a></li>
<li><a href="#orgd7cfc2d">Attention</a></li>
<li><a href="#orgcab86af">Archive</a></li>
</ul>
</div>
</div>

<div id="outline-container-org611a967" class="outline-2">
<h2 id="org611a967">Quick Notes</h2>
</div>

<div id="outline-container-org8fdd9a2" class="outline-2">
<h2 id="org8fdd9a2">Mon</h2>
<div class="outline-text-2" id="text-org8fdd9a2">
</div>
<div id="outline-container-org94ad1e4" class="outline-3">
<h3 id="org94ad1e4">Vault</h3>
<div class="outline-text-3" id="text-org94ad1e4">
</div>
<div id="outline-container-org1c62b5b" class="outline-4">
<h4 id="org1c62b5b">Watermill Prod</h4>
<div class="outline-text-4" id="text-org1c62b5b">
<ul class="org-ul">
<li>We have requests for dev's to have access to prod vault</li>
<li>They cannot get to the vault url because they don't have access to a windows server in PROD</li>
<li>Should they have access to a windows jump server?</li>
<li>Can we even secure a Windows jump server?</li>
<li>Should they even have access to Prod Vault directly like this?</li>
<li>We originally said it was locked down to managers and up</li>
<li>We have plans to change the prod vault dramatically</li>
<li>Should we tell them to wait?</li>
</ul>
</div>
<div id="outline-container-orgd65314c" class="outline-5">
<h5 id="orgd65314c"><span class="todo TODO">TODO</span> schedule call with Shaival and Saravana (watermill)</h5>
<div class="outline-text-5" id="text-orgd65314c">
<ul class="org-ul">
<li>watermill DR during engagement</li>
<li>vault prod access</li>
<li>discuss external secret usage by apps directly vs on filesystem (re: CDM)</li>
</ul>
</div>
</div>
<div id="outline-container-orgbed6f97" class="outline-5">
<h5 id="orgbed6f97"><span class="todo TODO">TODO</span> schedule call with CDM and Shaival to discuss external secrets usage</h5>
</div>
</div>
</div>
</div>




<div id="outline-container-org6d62ba3" class="outline-2">
<h2 id="org6d62ba3">Tue</h2>
<div class="outline-text-2" id="text-org6d62ba3">
</div>
<div id="outline-container-org931ed40" class="outline-3">
<h3 id="org931ed40">New</h3>
<div class="outline-text-3" id="text-org931ed40">
</div>
<div id="outline-container-orge5f2847" class="outline-4">
<h4 id="orge5f2847">OCVS</h4>
<div class="outline-text-4" id="text-orge5f2847">
<ul class="org-ul">
<li>Netops is working on fastconnect that connects our DCs to cloud
<ul class="org-ul">
<li>Once that's complete we need to install Tanzu</li>
<li>TKG/s</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd6ddf53" class="outline-4">
<h4 id="orgd6ddf53">Training and expenses</h4>
<div class="outline-text-4" id="text-orgd6ddf53">
<p>
What do we need
Take what you need
</p>
</div>
</div>
<div id="outline-container-org3a9b3a1" class="outline-4">
<h4 id="org3a9b3a1">GitOps sans automation, workflow manumation, documation</h4>
</div>
<div id="outline-container-org02908ce" class="outline-4">
<h4 id="org02908ce">CI build automation</h4>
<div class="outline-text-4" id="text-org02908ce">
<ul class="org-ul">
<li>Github actions to prep things for use</li>
<li>Alternatives?</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org71acab8" class="outline-3">
<h3 id="org71acab8">Old</h3>
<div class="outline-text-3" id="text-org71acab8">
</div>
<div id="outline-container-org09400d4" class="outline-4">
<h4 id="org09400d4">Next projects</h4>
<div class="outline-text-4" id="text-org09400d4">
<ul class="org-ul">
<li>ArgoCD Design (K)</li>
<li>Vault Justification (R)</li>
<li>Work on priorities</li>
</ul>
</div>
</div>
<div id="outline-container-orgb57e734" class="outline-4">
<h4 id="orgb57e734">Label Mandate</h4>
<div class="outline-text-4" id="text-orgb57e734">
<ul class="org-ul">
<li>Label mandata, all environments</li>
</ul>
</div>
</div>
<div id="outline-container-orga802ccf" class="outline-4">
<h4 id="orga802ccf">Wrap up research</h4>
<div class="outline-text-4" id="text-orga802ccf">
<ul class="org-ul">
<li>config mgmt (all the same) vs cattle (different but treated the same)</li>
</ul>
</div>
</div>
<div id="outline-container-org0603fd9" class="outline-4">
<h4 id="org0603fd9">Schedule 1on1s</h4>
</div>
<div id="outline-container-org629a7e1" class="outline-4">
<h4 id="org629a7e1">Additional weekly meeting</h4>
</div>
<div id="outline-container-orgb3c0003" class="outline-4">
<h4 id="orgb3c0003">CDM</h4>
<div class="outline-text-4" id="text-orgb3c0003">
<ul class="org-ul">
<li>CDM
<ul class="org-ul">
<li><a href="https://jira.dev.e2open.com/jira/browse/OPS-99200%0D">https://jira.dev.e2open.com/jira/browse/OPS-99200%0D</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd49f933" class="outline-4">
<h4 id="orgd49f933">New tasklist/progress tracker</h4>
<div class="outline-text-4" id="text-orgd49f933">
<ul class="org-ul">
<li>Confluence table
Excel
MS Planner</li>
</ul>
</div>
</div>
<div id="outline-container-orgf9592b9" class="outline-4">
<h4 id="orgf9592b9">Add 9:00am working sessions?</h4>
<div class="outline-text-4" id="text-orgf9592b9">
<ul class="org-ul">
<li>Tue? Wed?
9am?
<a href="https://i.imgur.com/4lBtKyq.png%0D">https://i.imgur.com/4lBtKyq.png%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-org88033a7" class="outline-4">
<h4 id="org88033a7">Generate argocd notes</h4>
<div class="outline-text-4" id="text-org88033a7">
<ul class="org-ul">
<li><a href="https://confluence.dev.e2open.com/display/KUBE/Argocd+Automation%0D">https://confluence.dev.e2open.com/display/KUBE/Argocd+Automation%0D</a>
Pros
Cons
Questions
Other concerns</li>
</ul>
</div>
</div>
<div id="outline-container-orgb5b60b1" class="outline-4">
<h4 id="orgb5b60b1">Terraform</h4>
<div class="outline-text-4" id="text-orgb5b60b1">
<ul class="org-ul">
<li>Create tkc</li>
<li>What can it do that argo can't?</li>
<li>What can't it do?</li>
<li>Create ns</li>
<li>Deploy yaml/app to multiple clusters?  namespaces?  dynamic?</li>
<li>State
Storing vs not storing
Terraform's state file is a crucial component of how Terraform manages and tracks resources. It keeps track of the metadata of all the resources it creates and manages. The state file is vital in ensuring idempotency, allowing Terraform to know what it previously provisioned and to make changes accordingly.
That said, here are the pros and cons of maintaining Terraform state files vs regenerating them:
<ul class="org-ul">
<li><p>
<b><b>Keeping Terraform State:</b></b>
Pros:
</p>
<ol class="org-ol">
<li><b><b>Tracking</b></b>: State files provide Terraform the context it needs to know what has been previously created and what changes need to be made to achieve the desired state defined in your configuration files.</li>
<li><b><b>Performance</b></b>: Without state files, Terraform would need to query the provider API to discover resources each time you run a command. State files cache this information, reducing the number of necessary API calls and making Terraform operations faster.</li>
<li><b><b>Idempotency</b></b>: With the state file, Terraform can ensure that commands like `terraform apply` are idempotent, i.e., repeated commands do not result in different outcomes. This makes operations predictable and safe.</li>
</ol>
<p>
Cons:
</p>
<ol class="org-ol">
<li><b><b>Sensitive Data</b></b>: State files can contain sensitive data, as they capture all the details about your resources. You'll need to be careful about how you store and handle state files.</li>
<li><b><b>State Drift</b></b>: The actual infrastructure can drift from the state defined in the state file if changes are made outside of Terraform.</li>
<li><b><b>Merge Conflicts</b></b>: In a team setting, if multiple people are making changes concurrently, this could lead to merge conflicts in the state file.</li>
</ol></li>
<li><p>
<b><b>Regenerating Terraform State as Needed:</b></b>
Pros:
</p>
<ol class="org-ol">
<li><b><b>No Syncing Needed</b></b>: Since you regenerate state every time, you don't need to worry about keeping the state file in sync with the actual infrastructure.</li>
<li><b><b>Reduced Risk</b></b>: There's less risk of sensitive data exposure from the state file, as it's not persistently stored.</li>
</ol>
<p>
Cons:
</p>
<ol class="org-ol">
<li><b><b>Slower</b></b>: Regenerating state would involve Terraform querying all your resources each time you run a command, which can be slow for large infrastructures.</li>
<li><b><b>No History</b></b>: Without a persistent state file, you lose history and the ability to see how resources have changed over time.</li>
<li><b><b>Inconsistent Results</b></b>: Regenerating state can result in inconsistencies. If you create resources with Terraform and then regenerate the state, Terraform will lose track of the resources it has created, which can cause problems.</li>
</ol></li>
</ul></li>
<li>In conclusion, it is generally recommended to keep and properly manage Terraform state files. They play a critical role in how Terraform operates, and the benefits usually outweigh the drawbacks. The key is to establish proper state file management practices, such as using remote state, enabling state locking, and routinely checking for state drift.</li>
<li>How to schedule (when and where should what run?)</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-org81a4333" class="outline-2">
<h2 id="org81a4333">Wed</h2>
<div class="outline-text-2" id="text-org81a4333">
</div>
<div id="outline-container-org4fdb9f7" class="outline-3">
<h3 id="org4fdb9f7">New</h3>
<div class="outline-text-3" id="text-org4fdb9f7">
</div>
<div id="outline-container-org29ca872" class="outline-4">
<h4 id="org29ca872">Vault</h4>
<div class="outline-text-4" id="text-org29ca872">
</div>
<div id="outline-container-org99091f3" class="outline-5">
<h5 id="org99091f3"><span class="todo TODO">TODO</span> Any questions, followup from Monday</h5>
</div>
</div>
<div id="outline-container-org43fb66b" class="outline-4">
<h4 id="org43fb66b">Label mandate, all environments</h4>
<div class="outline-text-4" id="text-org43fb66b">
</div>
<div id="outline-container-org0f1af18" class="outline-5">
<h5 id="org0f1af18"><span class="todo TODO">TODO</span> Followup from last week</h5>
</div>
<div id="outline-container-org8d153d6" class="outline-5">
<h5 id="org8d153d6">Labelling VMs</h5>
<div class="outline-text-5" id="text-org8d153d6">
<ul class="org-ul">
<li>VM (as seen from vSphere)
<ul class="org-ul">
<li>Node labels
visible to K8s
Configured in TMC via TF</li>
<li>Cloud label
visible to vsphere and TMC
Configured in TMC via TF</li>
<li><p>
VSphere TAG
Everytime a node is rebuilt or horizontal scaling creates/destroys a node the tagging is lost
Tanzu creates node VMs, we don't have any control over tags
</p>
<ul class="org-ul">
<li>Find out what VMware recommends</li>
</ul>
<p>
Might need to filter at the cloud insight level
</p></li>
</ul></li>
<li>Supervisors</li>
<li>control</li>
<li>workers</li>
</ul>
</div>
</div>
<div id="outline-container-orgf8e2019" class="outline-5">
<h5 id="orgf8e2019">Labelling namespaces</h5>
<div class="outline-text-5" id="text-orgf8e2019">
<ul class="org-ul">
<li>Namespace
<ul class="org-ul">
<li>Application ns
<ul class="org-ul">
<li>Normal solution CI- labels applied via yaml</li>
</ul></li>
<li>Tooling ns
<ul class="org-ul">
<li>Fixed labels for CI-department, etc.</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org0c1103b" class="outline-4">
<h4 id="org0c1103b">PortWorks</h4>
<div class="outline-text-4" id="text-org0c1103b">
<ul class="org-ul">
<li>start initial research
<ul class="org-ul">
<li>does it resolve some of the issues identified in dev</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org1fc6b37" class="outline-4">
<h4 id="org1fc6b37">DR</h4>
<div class="outline-text-4" id="text-org1fc6b37">
</div>
<div id="outline-container-org6b7c94f" class="outline-5">
<h5 id="org6b7c94f">What can k8s offer?</h5>
<div class="outline-text-5" id="text-org6b7c94f">
<ul class="org-ul">
<li>Self-healing
<ul class="org-ul">
<li>Reconcile current state to desired state</li>
<li>Requires GitOps</li>
<li>Rebuild pods, nodes, policies, load balancers, networks?</li>
<li>How far can each one go today</li>
<li>How far can each go if we make changes/improvements?</li>
</ul></li>
<li>What can we offer today for DR?
<ul class="org-ul">
<li>For an application namespace?</li>
<li>For an entire tkc?</li>
</ul></li>
<li>What do we want?
<ul class="org-ul">
<li>Vmotion for tkc's?</li>
<li>Replicate data and desired state and build on the fly during DR event?
<ul class="org-ul">
<li>What do we need to do this?
<ul class="org-ul">
<li>GitOps, GitOps tooling in DR location</li>
<li>Data replication in a declarative/code way</li>
<li>Shift to using Storage abstraction</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org9521665" class="outline-5">
<h5 id="org9521665">Components of DR</h5>
<div class="outline-text-5" id="text-org9521665">
<ul class="org-ul">
<li>Application
<ul class="org-ul">
<li>Services</li>
<li>DBs</li>
</ul></li>
<li>Platform
<ul class="org-ul">
<li>TKG
<ul class="org-ul">
<li>TKC
<ul class="org-ul">
<li>kNS</li>
<li>k8s services
<ul class="org-ul">
<li>ingress</li>
<li>LB</li>
<li>PV</li>
<li>core DNS</li>
</ul></li>
<li>Hosting Tools
<ul class="org-ul">
<li>Falco</li>
<li>FluentBit</li>
<li>Monitoring</li>
<li>ArgoCD</li>
<li>TF</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>Infrastructure
<ul class="org-ul">
<li>Network
<ul class="org-ul">
<li>Core/Access</li>
<li>NSX
<ul class="org-ul">
<li>Egress network</li>
<li>Ingress network</li>
</ul></li>
<li>Load Balancer</li>
</ul></li>
<li>Storage
<ul class="org-ul">
<li>NFS</li>
<li>SAN</li>
</ul></li>
<li>Compute
<ul class="org-ul">
<li>vSphere</li>
<li>vCenter</li>
</ul></li>
</ul></li>
<li>Deployment Tooling and Infra
<ul class="org-ul">
<li>source revision control
<ul class="org-ul">
<li>bitbucket / github</li>
</ul></li>
<li>jump servers</li>
<li>argo</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org75591bf" class="outline-5">
<h5 id="org75591bf">Responsibilities</h5>
<div class="outline-text-5" id="text-org75591bf">
<ul class="org-ul">
<li>Application
<ul class="org-ul">
<li>R&amp;D</li>
</ul></li>
<li>Platform
<ul class="org-ul">
<li>Ops</li>
</ul></li>
<li>Infrastructure
<ul class="org-ul">
<li>Network</li>
<li>Storage</li>
<li>vCenter</li>
</ul></li>
<li>Deployment Tooling and Infra
<ul class="org-ul">
<li>git / bitbucket
<ul class="org-ul">
<li>where?</li>
</ul></li>
<li>jump servers
<ul class="org-ul">
<li>where?</li>
</ul></li>
<li>argo</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org6f8b07a" class="outline-5">
<h5 id="org6f8b07a">What to do</h5>
<div class="outline-text-5" id="text-org6f8b07a">
<ul class="org-ul">
<li>Everything on here needs:
<ul class="org-ul">
<li>Prototype
<ul class="org-ul">
<li>Design doc</li>
</ul></li>
<li>Reviews
<ul class="org-ul">
<li>Arch review
<ul class="org-ul">
<li>Is there a design doc or links to vendor design documents?</li>
<li>Are there clearly stated goals and does it meet these?</li>
<li>Is there already something else in the enterprise that can do something similar?</li>
</ul></li>
<li>DevOps review</li>
<li>NetOps review</li>
<li>SecOps review</li>
<li>Insight review</li>
<li>Ops/SRE review
<ul class="org-ul">
<li>This should be comprehensive, every component should be evaluated:
<ul class="org-ul">
<li>When it fails what is impacted?
<ul class="org-ul">
<li>If nothing is impacted, how long can we remain in this state before there is an impact?</li>
</ul></li>
<li>When it fails does it automatically recover?</li>
<li>How long does it take to recover on its own?</li>
<li>When it doesn't recover on its own, what can we do to help it recover?</li>
<li>Based on how long DR failover takes, how long can we try to manually recover before we need to start DR?</li>
</ul></li>
</ul></li>
</ul></li>
<li>Ops Docs
<ul class="org-ul">
<li>Ops Setup and Deployment Guide</li>
<li>Ops Access Guide</li>
<li>Ops Backup and Recovery documentation</li>
<li>Ops DR Runbook for this componenty</li>
</ul></li>
<li>End-User Guides
<ul class="org-ul">
<li>Tooling, scripts, deployment yamls, dashboards</li>
<li>User Access Guide</li>
<li>Non-User Access Guide</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgd456fde" class="outline-4">
<h4 id="orgd456fde">Tanzu Labs</h4>
<div class="outline-text-4" id="text-orgd456fde">
</div>
<div id="outline-container-orga209296" class="outline-5">
<h5 id="orga209296"><span class="todo TODO">TODO</span> ask about engagement hours</h5>
<div class="outline-text-5" id="text-orga209296">
<ul class="org-ul">
<li>Anticipating 7 to 4 or 8 to 5 US/Central</li>
<li>Is it okay to have meetings on Friday 7 to 11am US/Central?</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orge1bc952" class="outline-4">
<h4 id="orge1bc952">Misc</h4>
<div class="outline-text-4" id="text-orge1bc952">
</div>
<div id="outline-container-org99eda3b" class="outline-5">
<h5 id="org99eda3b"><span class="todo TODO">TODO</span> ask about stippen</h5>
<div class="outline-text-5" id="text-org99eda3b">
<ul class="org-ul">
<li>how do they get it approved?</li>
<li>how do they know they got it?</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org52a48f3" class="outline-3">
<h3 id="org52a48f3">Old</h3>
</div>
</div>



<div id="outline-container-org2b97732" class="outline-2">
<h2 id="org2b97732">Thu</h2>
<div class="outline-text-2" id="text-org2b97732">
</div>
<div id="outline-container-orgcdf1421" class="outline-3">
<h3 id="orgcdf1421">New</h3>
<div class="outline-text-3" id="text-orgcdf1421">
</div>
<div id="outline-container-org97f10c3" class="outline-4">
<h4 id="org97f10c3">Tanzu Labs</h4>
</div>
</div>
<div id="outline-container-orge35a479" class="outline-3">
<h3 id="orge35a479">Old</h3>
</div>
</div>



<div id="outline-container-org614a671" class="outline-2">
<h2 id="org614a671">Fri</h2>
<div class="outline-text-2" id="text-org614a671">
</div>
<div id="outline-container-org3737163" class="outline-5">
<h5 id="org3737163"><span class="todo TODO">TODO</span> END OF WEEK TASKLIST CLEANUP</h5>
</div>
<div id="outline-container-org8d888bd" class="outline-3">
<h3 id="org8d888bd">New</h3>
<div class="outline-text-3" id="text-org8d888bd">
</div>
<div id="outline-container-orga57b25c" class="outline-4">
<h4 id="orga57b25c">6/23/23</h4>
<div class="outline-text-4" id="text-orga57b25c">
</div>
<div id="outline-container-orgd740f62" class="outline-5">
<h5 id="orgd740f62">E2net update</h5>
</div>
<div id="outline-container-org3d763e9" class="outline-5">
<h5 id="org3d763e9">Portworks</h5>
</div>
<div id="outline-container-orgdc32b89" class="outline-5">
<h5 id="orgdc32b89">OCVS</h5>
<div class="outline-text-5" id="text-orgdc32b89">
<ul class="org-ul">
<li>TKG/s vs m
<ul class="org-ul">
<li>Should be the same everywhere since it impacts how we do support and LCM</li>
<li>M uses more hardware</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org7a478ad" class="outline-5">
<h5 id="org7a478ad">DR</h5>
<div class="outline-text-5" id="text-org7a478ad">
<ul class="org-ul">
<li>Should all DR for NA be to DE2 for now?</li>
</ul>
</div>
<div id="outline-container-org5272cdc" class="outline-6">
<h6 id="org5272cdc"><span class="todo TODO">TODO</span> Make DR list?</h6>
<div class="outline-text-6" id="text-org5272cdc">
<ul class="org-ul">
<li>Steps to DR</li>
<li>Who does what</li>
<li>Components of Platform that need DR</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org3e6b402" class="outline-5">
<h5 id="org3e6b402">Hashicorp purchase Justification</h5>
<div class="outline-text-5" id="text-org3e6b402">
<ul class="org-ul">
<li>Pros:
<ol class="org-ol">
<li>Vendor assistance in finding RCAs and with implementations.</li>
<li>Reduced management</li>
<li>Scalable across the entire enterprise</li>
<li>Centralized UI to manage each environment</li>
<li>GDPR Filtered Secret Replication across international boundaries</li>
<li>Onsite HA Clustering and offsite Disaster Recovery</li>
<li>Namespace segregation
<ul class="org-ul">
<li>prod, stg and dev all in the same Vault</li>
<li>Can also be used for application or customer isolation</li>
</ul></li>
<li>Enterprise Vault provides analytics tools to track usage patterns
<ul class="org-ul">
<li>how many apps use secrets directly vs injected at deploy time?</li>
<li>how many consume them using the most secure methods?</li>
<li>how many &#x2026; using the least secure?</li>
<li>generate compliance audits</li>
</ul></li>
</ol></li>
<li>Cons:   
<ol class="org-ol">
<li>Initial cost
<ul class="org-ul">
<li>contract based on # of DC's and # of "users = applications"</li>
<li>hardware for HA clustering and DR</li>
</ul></li>
<li>Ongoing cost
<ul class="org-ul">
<li>True up based on increases to # of DC's and # of "users = applications"</li>
<li>don't expect a lot of cluster growth but application usage patterns could increase user count dramatically</li>
<li>somewhat unpredictable future cost increases</li>
</ul></li>
</ol></li>
</ul>
</div>
</div>
<div id="outline-container-orga46867b" class="outline-5">
<h5 id="orga46867b">1:1's with team</h5>
<div class="outline-text-5" id="text-orga46867b">
</div>
<div id="outline-container-orga8ddef5" class="outline-6">
<h6 id="orga8ddef5"><span class="todo TODO">TODO</span> ask about stippen</h6>
<div class="outline-text-6" id="text-orga8ddef5">
<ul class="org-ul">
<li>how do they get it approved?</li>
<li>how do they know they got it?</li>
</ul>
</div>
</div>
<div id="outline-container-orgafbe740" class="outline-6">
<h6 id="orgafbe740"><span class="todo TODO">TODO</span> ask about engagement hours</h6>
<div class="outline-text-6" id="text-orgafbe740">
<ul class="org-ul">
<li>Anticipating 7 to 4 or 8 to 5 US/Central</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org3fbe00b" class="outline-3">
<h3 id="org3fbe00b">Old</h3>
<div class="outline-text-3" id="text-org3fbe00b">
</div>
<div id="outline-container-org41c8ceb" class="outline-4">
<h4 id="org41c8ceb">5/18/23</h4>
<div class="outline-text-4" id="text-org41c8ceb">
</div>
<div id="outline-container-org1580d0c" class="outline-5">
<h5 id="org1580d0c">People</h5>
<div class="outline-text-5" id="text-org1580d0c">
<ul class="org-ul">
<li>Equity 100 vs 130%
<ul class="org-ul">
<li>currently receiving on call allowance for weekends</li>
<li>Ask HR if there is a shift bonus for 2nd shift on call</li>
<li>This isn't considered part of their base pay for bonus/equity incentives?</li>
<li>This won't continue post DCO to DCE transition</li>
<li>Correction for that.</li>
<li>Correction for change of role</li>
<li>Correction for Kantha</li>
</ul></li>
<li>Change of working hours to 2nd shift MYT 3pm -11pm</li>
<li>ayyappan interested in more k8s work, possibly applying for engineering team.</li>
<li>Most kOps tasks are done by Jeyson in NA including major upgrade projects.</li>
<li>Most kOps tasks done by Ayyappan and Ming in APAC</li>
<li>Ming should take a larger role in kOps</li>
</ul>
</div>
</div>
<div id="outline-container-org8d77494" class="outline-5">
<h5 id="org8d77494">Places</h5>
<div class="outline-text-5" id="text-org8d77494">
<ul class="org-ul">
<li>e2prod fr8, rubrik for backups of trident
<ul class="org-ul">
<li>fra-stg/prod snapmirror DR to paris (ontap appliance)</li>
<li>Where can they test this?</li>
</ul></li>
<li>How did the VMware offsite go?</li>
<li>Need a vSphere Team/Architect/Lead/Owner</li>
</ul>
</div>
</div>
<div id="outline-container-org5a4cb0a" class="outline-5">
<h5 id="org5a4cb0a">Things</h5>
<div class="outline-text-5" id="text-org5a4cb0a">
<ul class="org-ul">
<li>Ops will be migrating dev k8s backups from affcluster 1 (no nbu license) to 2 (yes nbu license)</li>
<li>Vrni licensing to troubleshoot nsx issue</li>
<li>licensing portal access for k &amp; r</li>
<li>Ming reinitialized a tanzu node which had clock skew.
<ul class="org-ul">
<li>Need a monitor for this</li>
</ul></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org473cfa9" class="outline-4">
<h4 id="org473cfa9">6/8/23</h4>
<div class="outline-text-4" id="text-org473cfa9">
<ul class="org-ul">
<li>E2net update</li>
<li>Cleanup of unused tkc's
<ul class="org-ul">
<li>3 more scheduled to remove, waiting on confirmation</li>
</ul></li>
<li>Cloudy/Jira
<ul class="org-ul">
<li>Devops might have time in 2-3 weeks</li>
<li>Scheduling call to get all requirements defined ahead of time</li>
</ul></li>
<li>OCVS load balancer / AVI
<ul class="org-ul">
<li>This will probably require several detailed sessions up to a full workshop with vmware</li>
<li>self-healing software-defined elastic application delivery fabric, that just so happens to provide load balancing features. WAF, appalytics, deals with ip pooling issues</li>
</ul></li>
<li>Netapp Cloud Insights
<ul class="org-ul">
<li>Have Joel work with Adam on setup and implementation</li>
<li>Tim, HY, Joel, You and I should make a list of what we want out of it.  Brainstorm, fancy notetaking.</li>
</ul></li>
<li>NSX-T updates
<ul class="org-ul">
<li>deployed in dev</li>
<li>No issues observed so far.  It can take a while to show symptoms.</li>
<li>scheduled for staging this weekend</li>
<li>More better.</li>
</ul></li>
<li>DR
<ul class="org-ul">
<li>What can k8s offer for DR?</li>
<li>What should we?</li>
</ul></li>
<li>Portworx</li>
<li>Vault</li>
</ul>
</div>
</div>
</div>
</div>



<div id="outline-container-orgd7cfc2d" class="outline-2">
<h2 id="orgd7cfc2d">Attention</h2>
<div class="outline-text-2" id="text-orgd7cfc2d">
</div>
<div id="outline-container-orgc4a323b" class="outline-3">
<h3 id="orgc4a323b">Clock Skew</h3>
<div class="outline-text-3" id="text-orgc4a323b">
</div>
<div id="outline-container-org1df8d40" class="outline-4">
<h4 id="org1df8d40">Ming reinitialized a tanzu node which had a clock skew.</h4>
<div class="outline-text-4" id="text-org1df8d40">
<p>
Need a monitor for this
</p>
</div>
</div>
</div>
<div id="outline-container-orgf6acd01" class="outline-3">
<h3 id="orgf6acd01">ssh jump pod</h3>
<div class="outline-text-3" id="text-orgf6acd01">
<p>
create an ssh jump server pod
inject secrets(pubkeys) from vault
start sshd
sleep for an hour
pod terminates
create terraform to deploy an ssh pod
</p>
</div>
</div>
<div id="outline-container-org4595ddd" class="outline-3">
<h3 id="org4595ddd">Capacity Analysis</h3>
<div class="outline-text-3" id="text-org4595ddd">
</div>
<div id="outline-container-org0d33f26" class="outline-4">
<h4 id="org0d33f26">R&amp;D and E2open Accoount / E2Customer do not exist in cloudy so they shouldn't be created</h4>
</div>
<div id="outline-container-org82dc4ed" class="outline-4">
<h4 id="org82dc4ed">Separate Staging from Dev</h4>
</div>
<div id="outline-container-org04ccad1" class="outline-4">
<h4 id="org04ccad1">Weighted Score for each DC</h4>
<div class="outline-text-4" id="text-org04ccad1">
<p>
performace
capacity
obsolescence

risk
trending
comfort

maybe compare to last year?
<b>*</b>
capacity analysis
hot spots
prescribed actions
</p>
</div>
</div>
</div>
<div id="outline-container-org282526a" class="outline-3">
<h3 id="org282526a">Network Performance</h3>
<div class="outline-text-3" id="text-org282526a">
<p>
VM's consolidated hardware and exposed resource contention in the network and storage areas.
k8s consolidation is another order of magnitude and further stresses network and storage.
e2open's network is 1gig and 10gig and NAS storage shares that. additionally, our SAN is 8 and 16gig fiber.
most vendors are recommending dual 25G per esx host minimum and quad 100G between clusters for kubernetes
</p>
</div>
<div id="outline-container-org19de7d7" class="outline-4">
<h4 id="org19de7d7">Collect some articles</h4>
</div>
<div id="outline-container-orgcddcbab" class="outline-4">
<h4 id="orgcddcbab">make a monitoring procedure</h4>
</div>
</div>
<div id="outline-container-orgb78ffd2" class="outline-3">
<h3 id="orgb78ffd2">Tanzu Design Doc</h3>
<div class="outline-text-3" id="text-orgb78ffd2">
<p>
Tanzu Design Doc

complete overarching doc
components will go towards this doc
general k8s architecture

talbot meeting to decide what belongs in that doc
</p>
</div>
</div>
<div id="outline-container-org7f25dc6" class="outline-3">
<h3 id="org7f25dc6">Request for cluster admin</h3>
<div class="outline-text-3" id="text-org7f25dc6">
<p>
Does this app team have their own DevOps team and/or Deployment tool?
If they do, we can give them their own cluster to build and run. We are not responsible for anything inside the cluster other than providing required policies and daemon sets (falco, fluentbit, need list).
What about namespace admin?
</p>
</div>
</div>
<div id="outline-container-org51d14a7" class="outline-3">
<h3 id="org51d14a7">Port Rollover Problem</h3>
<div class="outline-text-3" id="text-org51d14a7">
<p>
port roll over problem (1 egress IP) mostly a windows problem, worse for nfs?
</p>
</div>
</div>
<div id="outline-container-org222d7b4" class="outline-3">
<h3 id="org222d7b4">Zabbis DR</h3>
<div class="outline-text-3" id="text-org222d7b4">
</div>
<div id="outline-container-org310f4af" class="outline-4">
<h4 id="org310f4af">ask R&amp;D to propose zabbis DR timeline</h4>
</div>
</div>
<div id="outline-container-org8386810" class="outline-3">
<h3 id="org8386810">E2net Migration</h3>
<div class="outline-text-3" id="text-org8386810">
<ul class="org-ul">
<li>B2bc
<ul class="org-ul">
<li>Cisco
Staging on 5/22 had some issues, rescheduling that update
r&amp;d looking into the issue
Production deploy still tentatively scheduled for August</li>
<li>Non-cisco
Last email was a followup after the meeting we all had with Peter on 5/10.
I have nothing since… which leads me to believe they used the b2bc list and the sftp doc instead of the b2b docs from the 5/10 email and meeting.</li>
</ul></li>
<li>Sftp-e2net</li>
</ul>


<ul class="org-ul">
<li>Sftp-non-e2net
<ul class="org-ul">
<li>Email Crafted</li>
<li>List curated
addressees pending</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org81dcaff" class="outline-3">
<h3 id="org81dcaff">FR8/OCVS</h3>
<div class="outline-text-3" id="text-org81dcaff">
<ul class="org-ul">
<li>fr8</li>
<li>long term dc in europe</li>
<li>doesn't have DR</li>
<li>paris</li>
<li>SDDC on public OCI cloud</li>
<li>poc/testing completed</li>
<li>ontap replication</li>
<li>vsphere replication</li>
<li>Network transport questions</li>
<li>overlay transport zones</li>
</ul>
</div>
</div>
<div id="outline-container-org0c8f589" class="outline-3">
<h3 id="org0c8f589">JIRA/Cloudy requests for k8s</h3>
<div class="outline-text-3" id="text-org0c8f589">
<ul class="org-ul">
<li>jira requests/cloudy</li>
<li>new/existing kns/tkc</li>
</ul>
</div>
</div>
<div id="outline-container-org3f33866" class="outline-3">
<h3 id="org3f33866">Plans for FR4</h3>
<div class="outline-text-3" id="text-org3f33866">
<p>
plan for fr4?

old network, 100mbit
old ibm hardware, out of support, parts
esx 6.5 and 6.7 hosts can't be upgraded, out of support, many security issues.
esx 5.5 hosts can only run stand alone, can't join vcenter, are these even in inventory anywhere?
claim is that customer needs these 24/7 and their contract says we can't do any maintenance???
is this contract even worth continuing?
</p>
</div>
</div>
<div id="outline-container-org1894cfe" class="outline-3">
<h3 id="org1894cfe">Plans for Naperville</h3>
</div>
<div id="outline-container-org85658e7" class="outline-3">
<h3 id="org85658e7">Plans for vxRail</h3>
</div>
<div id="outline-container-org96a42d4" class="outline-3">
<h3 id="org96a42d4">Plans for DevTools</h3>
</div>
</div>



<div id="outline-container-orgcab86af" class="outline-2">
<h2 id="orgcab86af">Archive</h2>
<div class="outline-text-2" id="text-orgcab86af">
</div>
<div id="outline-container-orgc6550cf" class="outline-3">
<h3 id="orgc6550cf">Rubrik</h3>
<div class="outline-text-3" id="text-orgc6550cf">
<ul class="org-ul">
<li>K8s Agent to CentralDM private tunnel port 8011
Agents are on google container registry (internet)
Rubrik nodes need inet access
Requires version 8.0.3 or 8.1.1
To use with trident csi requires kubernetes external snapshotter
Netapp external-snapshotter on github</li>
</ul>
</div>
</div>
<div id="outline-container-orgab212de" class="outline-3">
<h3 id="orgab212de">Dell server roadmap</h3>
<div class="outline-text-3" id="text-orgab212de">
<p>
Intel Xeon Gold 6348 @ 2.60GHz
ddr4 3600

replace with gold 5420+ @ 2.0Ghz
ddr5 4800
</p>
</div>
</div>
<div id="outline-container-org7812d14" class="outline-3">
<h3 id="org7812d14">Elastic Search</h3>
<div class="outline-text-3" id="text-org7812d14">
<p>
ES for CI
in dev
need hardware
build, test, break, runbook
</p>
</div>
</div>
<div id="outline-container-orgdbb832c" class="outline-3">
<h3 id="orgdbb832c">Vault</h3>
<div class="outline-text-3" id="text-orgdbb832c">
<ul class="org-ul">
<li><p>
Proposal
</p>
<ul class="org-ul">
<li>4 prod, 4 non-prod, gold support, 50 users
<ul class="org-ul">
<li>Includes cobra training</li>
</ul></li>
</ul>
<p>
7 weeks 1 hour per week, unlimited attendees
</p>
<ul class="org-ul">
<li>Paid training/certification</li>
</ul>
<p>
3 days, 10k for 5 people
</p>
<ul class="org-ul">
<li>Cost</li>
</ul>
<p>
MSRP $451,440 for 3 years paid annually
    Discounted $293,436 by July 28th
    True up happens at end of 3 years
    Does this mean you can grow wildly and then shrink just before renewal?
</p>
<ul class="org-ul">
<li>Gold support
4 support specialists assigned to our account
1 CSM assigned to our account
Meet monthly, KB's, Tickets, etc.</li>
<li>Procurement
<ul class="org-ul">
<li>AWS Marketplace</li>
</ul></li>
</ul>
<p>
EDP -&gt; draw down from your commit
Terms based on AWS Terms
</p>
<ul class="org-ul">
<li>Signed Order with or without PO</li>
</ul>
<p>
Net 30/45 based on PO
</p></li>
<li>Cluster size stays small until 100 clients PER cluster or 400 clients for 4 clusters before it shifts to medium for the purposes of licensing</li>
<li>Client license consumption
When the service-account is mapped to a path in vault, it is considered active.
If we never map it to a path, it is not active and not used.
We can precreate the KV paths, and the s-a but not assign it and we don't have to pay for them now.</li>
<li>Prod or Non-Prod Staging
An interesting discussion came up about whether Staging was prod or non-prod when it came to vault.
Staging has a spotty history at e2open and has been used for everything from development to prototyping to QA to deployment testing/proofing to data quality assurance (with customer data!!) to modelling to light production use (like pre-sales demos).
Limiting the focus right now to provisioning and deployment needs (so, Digital AI, Tanzu, K8s, Terraform?) and our intent to buy enterprise vault by limiting the scope to "use tool X to pull secret from vault, inject in payload and deploy"&#x2026;.
How can we answer the question, what kind of secrets does staging need?
Time allowing, we can continue with Dave's plans to build a central tool to manage secrets in the vault, which will reduce the license requirements for human clients greatly.  What will this need, how does KPE avoid making this more difficult for Dave's development efforts.
<ul class="org-ul">
<li>Dev</li>
<li>Test</li>
<li>Uat (customers test changes to applications before accepting them for production use)</li>
<li>Staging</li>
<li>Pre-prod (includes customer data and customer access)</li>
<li>Prod</li>
<li>Prime = prod, used by all production applications/deployments</li>
<li>Beta = staging, used by all non-prod</li>
<li>Alpha = dev, used by platform engineers, people who are changing</li>
</ul></li>
<li>Vault Tool
Allows users to declare what they need for their application in a structured way ala pd
Database passwords, secrets, tokens go here…
May use vault for entire pd-style config store
Will use one service account per environment?
Known structured method to create, known structured method to consume
<ul class="org-ul">
<li>This is somewhat contradictory to the cloud like approach shaival prescribed
My application consumes vault as a service
Request a "space"
Use it however my app wants to use it</li>
<li>Need to review our vault provisioning/onboarding and stop creating empty stores
Each has a unique service-account/user
Will continue Thursday</li>
</ul></li>
<li>Does the creation of a user trigger licensing or does USE by a user trigger it?
YES (hashi)</li>
</ul>
</div>
</div>
<div id="outline-container-org8149d09" class="outline-3">
<h3 id="org8149d09">CloudHealth</h3>
<div class="outline-text-3" id="text-org8149d09">
<ul class="org-ul">
<li>install on each cluster
export CHT<sub>API</sub><sub>TOKEN</sub>=7eb7c32fa68fc108ac7ad934a28ceaa2f76e892aa2accb35
export CHT<sub>CLUSTER</sub><sub>NAME</sub>=\({clustername}
    export CHT_NAMESPACE=\){namespace}
helm repo add cloudhealth <a href="https://cloudheatth.github.io/helm/%0D">https://cloudheatth.github.io/helm/%0D</a>
helm install cloudhealth-collector -n $CHT<sub>NAMESPACE</sub> &#x2013;set apiToken=$CHT<sub>API</sub><sub>TOKEN,clusterName</sub>=$CHT<sub>CLUSTER</sub><sub>NAME</sub> cloudhealth/cloudhealth-collector</li>
<li>to upgrade
helm upgrade cloudhealth-collector cloudhealth/cloudhealth-collector</li>
<li>to uninstall
helm uninstall cloudhealth-collector
helm repo remove cloudhealth</li>
<li>should label these
&#x2013;set customLabels={}</li>
<li>more info
<a href="https://github.com/CloudHealth/helm%0D">https://github.com/CloudHealth/helm%0D</a>
<a href="https://i.imgur.com/7O37MY6.png%0D">https://i.imgur.com/7O37MY6.png%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-orga745da6" class="outline-3">
<h3 id="orga745da6">Incident Manager</h3>
<div class="outline-text-3" id="text-orga745da6">
<p>
Unified Incident Management Process
e2pr in april
need more incident managers
does not need specific knowledge of application
will get training for responsibilities
does not need to be technical but might benefit
coordination
communication
guide technical team
provide pressure and guide rails
only during office hours
currently 5 in US
9 in APAC
7 in EMEA
</p>
</div>
</div>
<div id="outline-container-org1e6807a" class="outline-3">
<h3 id="org1e6807a">Naming Conventions</h3>
<div class="outline-text-3" id="text-org1e6807a">
<ul class="org-ul">
<li>Discuss naming conventions
<ul class="org-ul">
<li>DCOps
DC
vCenter &lt;- vmware cluster
vSphere namespace -&gt; egress IP
TKG
<ul class="org-ul">
<li>WCP</li>
<li>Worker nodes -&gt; esx hosts</li>
</ul></li>
<li>DCEng
TKC &lt;&#x2013; consumes resources
NS
Deployments
Special
<ul class="org-ul">
<li>SA = Service accounts</li>
<li>RB = role bindings</li>
<li>Secrets</li>
</ul></li>
</ul></li>
<li>ArgoCD Demo
How to arrange "tiles"
    1 tile per DC-Environment for all clusters (wcp level)
	Example:
	CH3-PROD
	    Ch3-prod-Cluster1.yaml
	    Ch3-prod-Cluster2.yaml
	    Ch3-prod-Cluster3.yaml
	SJC-PROD
	    Prod-sjc-Cluster4.yaml
	    Prod-sjc-Cluster5.yaml
	FR8-PROD
	    Cluster6.yaml
	    Cluster7.yaml
	    Cluster8.yaml
	FR8-STG
	    Cluster9.yaml
	    Cluster10.yaml
	SV1-DEV
	    dev-ci.yaml &lt;&#x2014; tkc
	    pepsi-lds.yaml
	    e2dev-tanzu-rdm.yaml
    1 tile per cluster for everything inside
	Example:
	Ch3-prod-Cluster1
	    Cluster1-sys.yaml
	    Cluster1-sys-Rb.yaml
	    Cluster1-sys-Sa.yaml
	    Cluster1-sys-OPA.yaml
	    Cluster1-sys-falco.yaml
	    Cluster1-sys-fluntbit.yaml
	    Cluster1-Ns1.yaml
	    Cluster1-Ns1-Rb.yaml
	    Cluster1-Ns1-Sa.yaml
	    Cluster1-Ns1-Psp.yaml
	    Cluster1-Ns1-App3.yaml
	    Cluster1-Ns2.yaml
	    Cluster1-Ns2-Rb.yaml
	    Cluster1-Ns2-Sa.yaml
	    Cluster1-Ns2-Psp.yaml
	    Cluster1-Ns2-App4.yaml</li>
<li>CI windows are by physical region</li>
<li>Daytime work hours are by region</li>
<li><p>
Cluster types:
Multi-tenant
</p>
<ul class="org-ul">
<li>E2proxy
…-e2proxy.yaml</li>
<li>CL
…-cl1.yaml
…-cl2.yaml</li>
<li>CDM
Ch3-prod-cdm1.yaml
Ch3-prod&#x2013;cdm2.yaml
Ch3-prod&#x2013;cdm3.yaml</li>
</ul>
<p>
Single-tenant (1 namespace per tenant)
</p>
<ul class="org-ul">
<li>DX
…-dx10.yaml
…-dx2.yaml
…-dx.yaml
…-dx1.yaml
…-dx2.yaml
…-dx3.yaml
…-dx.yaml  &lt;&#x2013; prime</li>
<li>xDS</li>
</ul>
<p>
Common
</p>
<ul class="org-ul">
<li>Ci         &lt; ci that belongs to ci</li>
<li>Cops       &lt; ci that belongs to ops</li>
<li>E2proxy    &lt; ci that needs its own dmz</li>
</ul></li>
<li>Should we use - to separate dc-env-cluster
Can't use _ in tkc or vns names</li>
<li>examples
e2dev-tanzu-dcops        &lt;&#x2013; don't do this.  These are test clusters
e2dev-tanzu-dcops-2023   &lt;&#x2013; don't do this.  These are test clusters
e2dev-tanzu-project-name &lt;&#x2013; don't do this.  These are test clusters
e2dev-tanzu-vault        &lt;&#x2013; this is a test, this belongs in cops
e2open-test              &lt;&#x2013; don't do this.  These are test clusters
tanzu-workshop           &lt;&#x2013; don't do this.  These are test cluster
Default                  &lt;&#x2013; system created cluster</li>
</ul>
</div>
</div>


<div id="outline-container-org6511bea" class="outline-3">
<h3 id="org6511bea">CD vs Config Management</h3>
<div class="outline-text-3" id="text-org6511bea">
<ul class="org-ul">
<li>Define CM
<ul class="org-ul">
<li>Same thing in multiple places
I.e. same config settings across multiple clusters
Same tools installed in multiple clusters with cluster specific options</li>
</ul></li>
<li>Assumption
<ul class="org-ul">
<li>Argo doesn't do config management
Uses kustomize to adapt yaml on the fly, can't handle mutiple clusters with the same yaml without injecting env variables or other tkc specific data.
This could be solved by running a CI build whenever the yaml is checked in to inject values rather than at run time</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgbf5991c" class="outline-3">
<h3 id="orgbf5991c">CodeFresh</h3>
<div class="outline-text-3" id="text-orgbf5991c">
</div>
<div id="outline-container-orge1a4fa0" class="outline-4">
<h4 id="orge1a4fa0">TF</h4>
<div class="outline-text-4" id="text-orge1a4fa0">
<ul class="org-ul">
<li>Terraform requires lock management to prevent multiple tf's from trying to make changes at the same time.  The infra to do this is 3rd party (Atlantis) and untested.   Definitely complex.</li>
<li>Actual state is not stored in git, only "Expected" state</li>
<li>tf is good for things that don't change much, like the initial cluster creation, onboarding to tmc, installation of core cluster objects.</li>
</ul>
</div>
</div>
<div id="outline-container-org462a870" class="outline-4">
<h4 id="org462a870">Argo</h4>
<div class="outline-text-4" id="text-org462a870">
<ul class="org-ul">
<li>for everything else?</li>
</ul>
</div>
</div>
<div id="outline-container-orgaad3410" class="outline-4">
<h4 id="orgaad3410">Tunnelling</h4>
<div class="outline-text-4" id="text-orgaad3410">
<ul class="org-ul">
<li>Using a tunnel/mesh to communicate between CD components, git, argo, image repos, artifactory, jump servers.
Codefresh has a TLS based one that uses 443, expects 443 open to everywhere, public cloud based.
Tailscale-WireGuard</li>
</ul>
</div>
</div>
<div id="outline-container-orgbeb120d" class="outline-4">
<h4 id="orgbeb120d">TMC</h4>
<div class="outline-text-4" id="text-orgbeb120d">
<ul class="org-ul">
<li>To apply OPA to entire cluster rather than using tf or argo</li>
</ul>
</div>
</div>
<div id="outline-container-org6e3262c" class="outline-4">
<h4 id="org6e3262c">Tigris</h4>
<div class="outline-text-4" id="text-org6e3262c">
<ul class="org-ul">
<li>Nosql key/value store
<a href="https://github.com/tigrisdata/tigris%0D">https://github.com/tigrisdata/tigris%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgaf1f86f" class="outline-4">
<h4 id="orgaf1f86f">Monitoring and health</h4>
<div class="outline-text-4" id="text-orgaf1f86f">
<ul class="org-ul">
<li>argocd<sub>app</sub><sub>info</sub>
<a href="https://argo-cd.readthedocs.io/enn/stable/operator-manual/health%0D">https://argo-cd.readthedocs.io/enn/stable/operator-manual/health%0D</a>
<a href="https://github.com/argoproj/gitops-engine/blob/master/pkg/health/health.go#L24%0D">https://github.com/argoproj/gitops-engine/blob/master/pkg/health/health.go#L24%0D</a>
<a href="https://github.com/argoproj/argo-cd/blob/master/ui/src/app/shared/models.ts#L301%0D">https://github.com/argoproj/argo-cd/blob/master/ui/src/app/shared/models.ts#L301%0D</a></li>
<li>health<sub>status</sub>
<a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/metrics%0D">https://argo-cd.readthedocs.io/en/stable/operator-manual/metrics%0D</a></li>
<li>sync<sub>status</sub>
<a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/metric%0D">https://argo-cd.readthedocs.io/en/stable/operator-manual/metric%0D</a></li>
</ul>
</div>
</div>
<div id="outline-container-org67a5527" class="outline-4">
<h4 id="org67a5527">Codefresh conclusions</h4>
<div class="outline-text-4" id="text-org67a5527">
<ul class="org-ul">
<li><a href="https://i.imgur.com/TISi4wq.png%0D">https://i.imgur.com/TISi4wq.png%0D</a></li>
<li>coupon / class
<a href="https://i.imgur.com/LXRwm4Q.png%0D">https://i.imgur.com/LXRwm4Q.png%0D</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Michael Kronvold</p>
<p class="date">Created: 2023-06-23 Fri 16:21</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
